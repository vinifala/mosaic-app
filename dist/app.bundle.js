!function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],f=0,p=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([616,1]),r()}({513:function(e,t,r){},593:function(e,t,r){var n={"./af":194,"./af.js":194,"./ar":195,"./ar-dz":196,"./ar-dz.js":196,"./ar-kw":197,"./ar-kw.js":197,"./ar-ly":198,"./ar-ly.js":198,"./ar-ma":199,"./ar-ma.js":199,"./ar-sa":200,"./ar-sa.js":200,"./ar-tn":201,"./ar-tn.js":201,"./ar.js":195,"./az":202,"./az.js":202,"./be":203,"./be.js":203,"./bg":204,"./bg.js":204,"./bm":205,"./bm.js":205,"./bn":206,"./bn.js":206,"./bo":207,"./bo.js":207,"./br":208,"./br.js":208,"./bs":209,"./bs.js":209,"./ca":210,"./ca.js":210,"./cs":211,"./cs.js":211,"./cv":212,"./cv.js":212,"./cy":213,"./cy.js":213,"./da":214,"./da.js":214,"./de":215,"./de-at":216,"./de-at.js":216,"./de-ch":217,"./de-ch.js":217,"./de.js":215,"./dv":218,"./dv.js":218,"./el":219,"./el.js":219,"./en-SG":220,"./en-SG.js":220,"./en-au":221,"./en-au.js":221,"./en-ca":222,"./en-ca.js":222,"./en-gb":223,"./en-gb.js":223,"./en-ie":224,"./en-ie.js":224,"./en-il":225,"./en-il.js":225,"./en-nz":226,"./en-nz.js":226,"./eo":227,"./eo.js":227,"./es":228,"./es-do":229,"./es-do.js":229,"./es-us":230,"./es-us.js":230,"./es.js":228,"./et":231,"./et.js":231,"./eu":232,"./eu.js":232,"./fa":233,"./fa.js":233,"./fi":234,"./fi.js":234,"./fo":235,"./fo.js":235,"./fr":236,"./fr-ca":237,"./fr-ca.js":237,"./fr-ch":238,"./fr-ch.js":238,"./fr.js":236,"./fy":239,"./fy.js":239,"./ga":240,"./ga.js":240,"./gd":241,"./gd.js":241,"./gl":242,"./gl.js":242,"./gom-latn":243,"./gom-latn.js":243,"./gu":244,"./gu.js":244,"./he":245,"./he.js":245,"./hi":246,"./hi.js":246,"./hr":247,"./hr.js":247,"./hu":248,"./hu.js":248,"./hy-am":249,"./hy-am.js":249,"./id":250,"./id.js":250,"./is":251,"./is.js":251,"./it":252,"./it-ch":253,"./it-ch.js":253,"./it.js":252,"./ja":254,"./ja.js":254,"./jv":255,"./jv.js":255,"./ka":256,"./ka.js":256,"./kk":257,"./kk.js":257,"./km":258,"./km.js":258,"./kn":259,"./kn.js":259,"./ko":260,"./ko.js":260,"./ku":261,"./ku.js":261,"./ky":262,"./ky.js":262,"./lb":263,"./lb.js":263,"./lo":264,"./lo.js":264,"./lt":265,"./lt.js":265,"./lv":266,"./lv.js":266,"./me":267,"./me.js":267,"./mi":268,"./mi.js":268,"./mk":269,"./mk.js":269,"./ml":270,"./ml.js":270,"./mn":271,"./mn.js":271,"./mr":272,"./mr.js":272,"./ms":273,"./ms-my":274,"./ms-my.js":274,"./ms.js":273,"./mt":275,"./mt.js":275,"./my":276,"./my.js":276,"./nb":277,"./nb.js":277,"./ne":278,"./ne.js":278,"./nl":279,"./nl-be":280,"./nl-be.js":280,"./nl.js":279,"./nn":281,"./nn.js":281,"./pa-in":282,"./pa-in.js":282,"./pl":283,"./pl.js":283,"./pt":284,"./pt-br":285,"./pt-br.js":285,"./pt.js":284,"./ro":286,"./ro.js":286,"./ru":287,"./ru.js":287,"./sd":288,"./sd.js":288,"./se":289,"./se.js":289,"./si":290,"./si.js":290,"./sk":291,"./sk.js":291,"./sl":292,"./sl.js":292,"./sq":293,"./sq.js":293,"./sr":294,"./sr-cyrl":295,"./sr-cyrl.js":295,"./sr.js":294,"./ss":296,"./ss.js":296,"./sv":297,"./sv.js":297,"./sw":298,"./sw.js":298,"./ta":299,"./ta.js":299,"./te":300,"./te.js":300,"./tet":301,"./tet.js":301,"./tg":302,"./tg.js":302,"./th":303,"./th.js":303,"./tl-ph":304,"./tl-ph.js":304,"./tlh":305,"./tlh.js":305,"./tr":306,"./tr.js":306,"./tzl":307,"./tzl.js":307,"./tzm":308,"./tzm-latn":309,"./tzm-latn.js":309,"./tzm.js":308,"./ug-cn":310,"./ug-cn.js":310,"./uk":311,"./uk.js":311,"./ur":312,"./ur.js":312,"./uz":313,"./uz-latn":314,"./uz-latn.js":314,"./uz.js":313,"./vi":315,"./vi.js":315,"./x-pseudo":316,"./x-pseudo.js":316,"./yo":317,"./yo.js":317,"./zh-cn":318,"./zh-cn.js":318,"./zh-hk":319,"./zh-hk.js":319,"./zh-tw":320,"./zh-tw.js":320};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=593},614:function(e,t,r){},616:function(e,t,r){"use strict";r.r(t);r(333);var n=r(1),a=r.n(n),o=r(65),i=r.n(o),s=(r(513),r(3)),l=r.n(s),c=r(138),u=r.n(c),f=r(332),p=r.n(f),m=r(93),h=r.n(m),d=r(94),g=r.n(d),y=(r(182),r(327)),j=r.n(y),b=(r(532),j.a),v=r(330),E=r.n(v),w=(r(602),r(603),E.a),O=g.a,S=function(){};function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=function(e,t){switch(t.type){case"IMAGE_SUCCESS":return{loading:!1,errorMessage:""};case"IMAGE_TIMEOUT":return{loading:!1,errorMessage:"Image timed out ='("};case"IMAGE_ERROR":return{loading:!1,errorMessage:"Oops, we were not able to load this image."};default:throw new Error}};function _(e){var t=P(n.useReducer(I,{loading:!0,errorMessage:""}),2),r=t[0],a=t[1],o=r.loading,i=r.errorMessage,s=e.selectImage,l=e.autoSelect,c=e.src,u=n.useRef(null),f=setTimeout((function(){o&&a({type:"IMAGE_TIMEOUT"})}),2e4);return n.createElement("button",{type:"button",disabled:o||i,onClick:function(){return s(u.current)},style:{width:"10%",height:"150px",overflow:"hidden",border:0,padding:0,cursor:o||i?"not-allowed":"pointer"}},o&&n.createElement("span",null,n.createElement(O,null)),i&&n.createElement("span",null,i),!i&&n.createElement("img",{ref:u,alt:"Unable to load ='(",onLoad:function(){clearTimeout(f),a({type:"IMAGE_SUCCESS"}),l&&s(u.current)},onError:function(){clearTimeout(f),a({type:"IMAGE_ERROR"})},src:c,crossOrigin:"anonymous",style:{width:"100%",display:o?"none":"block",objectFit:"cover",height:"100%"}}))}var k=_;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,a)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(r,!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_.defaultProps={selectImage:S,autoSelect:!1,src:""},_.propTypes={selectImage:l.a.func,autoSelect:l.a.bool,src:l.a.string};var U=function(e,t){switch(t.type){case"GALLERY_INIT":return C({},e,{loading:!0,errorMessage:""});case"GALLERY_SUCCESS":return C({},e,{loading:!1,timestamp:(new Date).getTime(),errorMessage:"",photos:t.payload});case"GALLERY_FAIL":return C({},e,{loading:!1,errorMessage:"Oops, looks like something went wrong"});default:throw new Error}},z=function(e){var t=R(n.useState(1),2),r=t[0],a=t[1],o=R(n.useReducer(U,{errorMessage:"",loading:!1,photos:[],timestamp:(new Date).getTime(),page:r}),2),i=o[0],s=o[1];n.useEffect((function(){(function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"GALLERY_INIT"}),t.prev=1,t.next=4,h.a.get("http://localhost:3001/gallery/".concat(e,"/").concat(r));case 4:n=t.sent,s({type:"GALLERY_SUCCESS",payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s({type:"GALLERY_FAIL"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){A(o,n,a,i,s,"next",e)}function s(e){A(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}})()()}),[r]);return[C({},i,{page:r}),[function(){a(r-1)},function(){a(r+1)}]]};function x(e){var t=R(z(e.subreddit),2),r=t[0],a=r.photos,o=r.loading,i=r.errorMessage,s=r.timestamp,l=r.page,c=R(t[1],2),u=c[0],f=c[1],p="Page ".concat(l);return n.createElement("div",null,!o&&!i&&n.createElement("h2",null,"Plese select an image"),n.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignContent:"center",placeContent:"center",height:"150px"}},o&&n.createElement("div",null,n.createElement(g.a,{size:"large",tip:"loading..."})),i&&n.createElement("div",null,n.createElement(w,{message:i,type:"error",showIcon:!0}),n.createElement(b,{onClick:function(){}},"Retry")),a.length>0&&!o&&a.map((function(t){return n.createElement(k,M({},e,{key:t.id,src:(r=t,a=r.images,o=r.link,a&&Array.isArray(a)&&a.length>0?"".concat(a[0].link,"?t=").concat(s):"".concat(o,"?t=").concat(s))}));var r,a,o}))),!o&&!i&&n.createElement("div",null,n.createElement(b,{onClick:u,disabled:l<2},"< Previous"),n.createElement("span",null,p),n.createElement(b,{onClick:f},"Next >")))}var D=x;x.defaultProps={subreddit:"earthporn"},x.propTypes={subreddit:l.a.string};var G=n.forwardRef((function(e,t){n.useEffect((function(){!function(e){e.current.getContext("2d").translate(.5,.5)}(t)}),[]),n.useEffect((function(){!function(e,t){var r=e.width,n=e.height,a=e.mosaicTiles,o=t.current.getContext("2d");o.imageSmoothingEnabled=!1,o.fillStyle="white",o.fillRect(-1,-1,r+1,n+1),a.forEach((function(e){var t=e.x,r=e.y,n=e.s,a=e.r,i=e.g,s=e.b,l=e.a;o.fillStyle="rgba(".concat(a,", ").concat(i,", ").concat(s,", ").concat(l,")"),o.beginPath(),o.ellipse(Math.floor(t+n/2),Math.floor(r+n/2),Math.round(n/2),Math.round(n/2),0,0,2*Math.PI),o.fill("evenodd")}))}(e,t)}));var r=e.height,a=e.width,o=e.id;return n.createElement("canvas",{height:r+1,width:a+1,ref:t,id:o})}));G.defaultProps={height:320,width:320,mosaicTiles:[],id:"mosaic-canvas"},G.propTypes={id:l.a.string,height:l.a.number,width:l.a.number,mosaicTiles:l.a.array};var Y=G,F=function(e){return new Promise((function(t,r){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return r(e)}}))};function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var W=function(e,t){var r=t.type,n=t.payload;switch(r){case"UPLOAD_SUCCESSFUL":return{shareUrl:n.shareUrl,isSharing:!1,sharingErrorMessage:""};case"UPLOAD_FAILIURE":return{shareUrl:"",isSharing:!1,sharingErrorMessage:"Sorry, something went wrong while sharing, please try again"};case"UPLOADING":return{shareUrl:"",isSharing:!0,sharingErrorMessage:""};default:throw new Error}},H=function(){var e=N(n.useReducer(W,{shareUrl:"",isSharing:!1,sharingErrorMessage:""}),2),t=e[0],r=e[1],a=function(e){var t=e.data;return r({type:"UPLOAD_SUCCESSFUL",payload:{shareUrl:t.data.link}})},o=function(){return r({type:"UPLOAD_FAILIURE"})},i=function(e){return h()({method:"POST",url:"http://localhost:3001/image",data:{image:e}}).then(a).catch(o)};return[t,function(e){return function(){return t=e,console.log("ref",t.current),r({type:"UPLOADING"}),void t.current.toBlob((function(e){F(e).then(i)}),"image/png");var t}}]};function q(e){var t=e.canvasRef,r=e.active,a=N(H(t.current),2),o=a[0],i=o.shareUrl,s=o.sharingErrorMessage,l=o.isSharing,c=a[1];return n.createElement("div",null,n.createElement(b,{disabled:l||!r,onClick:c(t)},"Share on IMGUR"),n.createElement("div",null,s&&n.createElement(w,{message:s,type:"error",showIcon:!0}),l&&n.createElement(O,{tip:"Sharing..."}),i&&n.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer"},i)))}var B=q;q.defaultProps={canvasRef:null,active:!1},q.propTypes={canvasRef:l.a.object,active:l.a.bool};function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){function t(e){var r,n,o,i,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=!(o=Q(t).call(this,e))||"object"!==J(o)&&"function"!=typeof o?V(n):o,i=V(r),s="mosaicCanvasReference",l=a.a.createRef(),s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,r.state={mosaicTiles:[],statusMessage:""},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){var t=this,r=e.width,n=e.height,a=e.tileSize,o=e.img;o!==this.props.img&&(this.setState({statusMessage:"Calculating..."}),setTimeout((function(){var e=function(e,t,r,n){var a,o=function(e){return e.reduce((function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],e}),[0,0,0,0]).map((function(t){return t/e.length|0}))},i=(a=4,function(e){for(var t=[],r=0;r<e.length;r+=a)t.push(e.slice(r,r+a));return t}),s=document.createElement("canvas"),l=e.naturalHeight/e.naturalWidth,c=r/t,u=l<c?t:r/l,f=l>c?r:t*l;s.setAttribute("width",u),s.setAttribute("height",f),s.style.display="none",document.body.appendChild(s);var p=s.getContext("2d");e.crossOrigin="Anonymous",p.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,u,f);for(var m=[],h=0;h+n<=f;h+=n)for(var d=0;d+n<=u;d+=n){var g=p.getImageData(d,h,n,n),y=o(i(Array.from(g.data)));m.push({r:y[0],g:y[1],b:y[2],a:y[3],x:d,y:h,s:n})}return s.remove(),m}(o,r,n,a);t.setState({mosaicTiles:e,statusMessage:""})}),20))}},{key:"render",value:function(){var e=this,t=this.props,r=t.width,n=t.height,o=t.img,i=t.tileSize,s=this.state,l=s.statusMessage,c=s.mosaicTiles,u=o?o.naturalHeight/o.naturalWidth:1,f=n/r,p=u<f?r:n/u,m=u>f?n:r*u,h=Math.floor(p/i)*i,d=Math.floor(m/i)*i;return a.a.createElement("div",{className:"mosaic__container",style:{adjustedWidth:h,adjustedHeight:d}},l&&a.a.createElement("div",{className:"mosaic__status-message"},a.a.createElement(O,{size:"large",tip:l})),c.length>0&&a.a.createElement("div",{className:"mosaic__stage".concat(l?" mosaic--loading":""),style:{adjustedWidth:h,adjustedHeight:d},ref:function(t){e.mosaicContainer=t}},a.a.createElement(Y,{width:h,height:d,mosaicTiles:c,id:"mosaic-canvas",ref:this.mosaicCanvasReference})),a.a.createElement(B,{active:c.length>0||!l,canvasRef:this.mosaicCanvasReference}))}}])&&K(r.prototype,n),o&&K(r,o),t}(n.Component),$=Z;function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Z.defaultProps={img:null,width:320,height:320,tileSize:16,mosaicTiles:[]},Z.propTypes={img:l.a.object,width:l.a.number,height:l.a.number,tileSize:l.a.number,mosaicTiles:l.a.array};var re=function(e,t){var r=t.type,n=t.payload;switch(r){case"DISPLAY_ERROR":return{isUploading:!1,img:"",errorMessage:n.errorMessage};case"DISPLAY_IMAGE":return{uploading:!1,img:n.img,errorMessage:""};default:throw new Error}};function ne(e){var t=te(n.useReducer(re,{isUploading:!1,errorMessage:"",img:""}),2),r=t[0],a=t[1],o=function(e){return a({type:"DISPLAY_IMAGE",payload:{img:e}})},i=function(){return a({type:"DISPLAY_ERROR",payload:{errorMessage:"Could not encode the image, please select a different one."}})},s=r.uploading,l=r.errorMessage,c=r.img;return n.createElement("div",null,n.createElement("h2",null,"...or upload an image"),n.createElement("input",{accept:"image/*",disabled:s,type:"file",onChange:function(e){e.target.files[0]&&(e.target.files[0].size>1024e4?a({type:"DISPLAY_ERROR",payload:{errorMessage:"File too large, maximum allowed size: 10Mb"}}):0===e.target.files[0].type.search("image")?F(e.target.files[0]).then(o).catch(i):a({type:"DISPLAY_ERROR",payload:{errorMessage:"File type not allowed, only images, please"}}))}}),s&&n.createElement("div",null,n.createElement(O,{tip:"Sending image..."})),l&&n.createElement("div",null,n.createElement(w,{message:l,type:"error",showIcon:!0})),!s&&c&&n.createElement(k,ee({src:c},e,{autoSelect:!0})))}var ae=ne;ne.defaultProps={selectImage:S},ne.propTypes={selectImage:l.a.func};r(614);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(e){var r,n,a,o,i,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=se(t).call(this,e),r=!a||"object"!==oe(a)&&"function"!=typeof a?le(n):a,o=le(r),s=function(e){r.setState({selectedImage:e})},(i="handleSelectImage")in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,r.state={selectedImage:null,mosaicTiles:[]},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.state,t=e.selectedImage,r=e.mosaicTiles;return a.a.createElement(u.a,{locale:p.a},a.a.createElement("div",{className:"App"},a.a.createElement("div",null,a.a.createElement(D,{selectImage:this.handleSelectImage,subreddit:"earthporn"})),a.a.createElement("div",null,a.a.createElement(ae,{selectImage:this.handleSelectImage})),a.a.createElement("div",null,a.a.createElement($,{img:t,width:1e3,height:600,tileSize:10,mosaicTiles:r}))))}}])&&ie(r.prototype,n),o&&ie(r,o),t}(n.Component),fe=ue;ue.defaultProps={mosaicWidth:320,mosaicHeight:320,tileWidth:16,tileHeight:16},ue.propTypes={mosaicWidth:l.a.number,mosaicHeight:l.a.number,tileWidth:l.a.number,tileHeight:l.a.number},i.a.render(a.a.createElement(fe,null),document.getElementById("root"))}});